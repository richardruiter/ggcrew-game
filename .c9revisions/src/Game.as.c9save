{"ts":1378503959211,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1378503960431,"patch":[[{"diffs":[[1,"import starling.display.Sprite;\r\nimport starling.text.TextField;\r\n\r\npublic class Game extends Sprite\r\n{\r\n    public function Game()\r\n    {\r\n        var textField:TextField = new TextField(400, 300, \"Welcome to Starling!\");\r\n        addChild(textField);\r\n    }\r\n}"]],"start1":0,"start2":0,"length1":0,"length2":262}]],"length":262,"saved":false}
{"ts":1378504565488,"patch":[[{"diffs":[[1,"package\r\n{\r\n    import starling.display.Quad;\r\n    "],[0,"import starling.display."]],"start1":0,"start2":0,"length1":24,"length2":75},{"diffs":[[0,"prite;\r\n"],[1,"    "],[0,"import s"]],"start1":76,"start2":76,"length1":16,"length2":20},{"diffs":[[0,"ing."],[-1,"text.TextField"],[1,"utils.Color"],[0,";\r\n"],[1," "],[0,"\r\n"],[1,"    "],[0,"publ"]],"start1":100,"start2":100,"length1":27,"length2":29},{"diffs":[[0,"Sprite\r\n"],[-1,"{\r\n"],[1,"    {\r\n    "],[0,"    publ"]],"start1":151,"start2":151,"length1":19,"length2":27},{"diffs":[[0,"Game()\r\n    "],[-1,"{\r\n"],[1,"    {\r\n    "],[0,"        var "]],"start1":190,"start2":190,"length1":27,"length2":35},{"diffs":[[0,"var "],[-1,"textField:TextField = new TextField(4"],[1,"quad:Quad = new Quad(2"],[0,"00, "],[-1,"3"],[1,"2"],[0,"00, "],[-1,"\"Welcome to Starling!\");\r\n        addChild(textField);"],[1,"Color.RED);\r\n            quad.x = 100;\r\n            quad.y = 50;\r\n            addChild(quad);\r\n        }"],[0,"\r\n  "]],"start1":221,"start2":221,"length1":108,"length2":143}]],"length":370,"saved":false}
{"ts":1378505773621,"patch":[[{"diffs":[[0,"ad.y = 50;\r\n"],[1,"            quad.rotation = deg2rad(90)\r\n"],[0,"            "]],"start1":310,"start2":310,"length1":24,"length2":65}]],"length":411,"saved":false}
{"ts":1378505778713,"patch":[[{"diffs":[[0,"2rad(90)"],[1,";"],[0,"\r\n      "]],"start1":353,"start2":353,"length1":16,"length2":17}]],"length":412,"saved":false}
{"ts":1378505820217,"patch":[[{"diffs":[[0,"rad("],[-1,"90"],[1,"45"],[0,");\r\n"]],"start1":354,"start2":354,"length1":10,"length2":10}]],"length":412,"saved":false}
{"ts":1378505842447,"patch":[[{"diffs":[[0,"n = "],[-1,"deg2rad("],[0,"45"],[-1,")"],[0,";\r\n "]],"start1":346,"start2":346,"length1":19,"length2":10}]],"length":403,"saved":false}
{"contributors":[],"silentsave":false,"ts":1379089686449,"patch":[[{"diffs":[[0,"ort "],[-1,"starling.display.Quad;\r\n    import starling.display.Sprite;\r\n    import starling.utils.Color"],[1,"flash.display.Bitmap;\r\n    import flash.display.BitmapData;\r\n    import flash.ui.Mouse;\r\n    import flash.geom.Point;\r\n\r\n    import starling.display.Sprite;\r\n    import starling.display.Quad;\r\n    import starling.utils.Color;\r\n    import starling.text.TextField;\r\n    \r\n    import starling.display.Image;\r\n    import starling.textures.Texture;\r\n    \r\n    import starling.events.Touch;\r\n    import starling.events.TouchEvent;\r\n    import starling.events.TouchPhase;\r\n    \r\n    import com.util.BMPFunctions"],[0,";\r\n"],[-1," "],[0,"\r\n  "]],"start1":19,"start2":19,"length1":104,"length2":515},{"diffs":[[0," {\r\n"],[-1,"        public function Game()\r\n        {\r\n"],[1,"\t\t[Embed(source = \"../assets/opened_door.png\")]\r\n\t\tprivate static var sketch1:Class;\r\n\t\t\r\n\t\t[Embed(source = \"../assets/spraycan.png\")]\r\n\t\tprivate static var spraycan:Class;\r\n\t\t\r\n\t\tprivate var data:BitmapData;\r\n\t\tprivate var mousecan:Image;\r\n\t\tprivate var image:Image;\r\n\t\t\r\n\t\tpublic var currentColor:uint = 0xFFFF0000;\r\n\t\tprivate var colorArray:Array = new Array(0xFFFF0000,0xFF00FF00,0xFF0000FF,0xFFFFFF00,0xFF00FFFF,0xFFFF00FF);\r\n\t\t\r\n\t\tprivate var debug:TextField;\r\n    \r\n        public function Game()\r\n        {\r\n            // initial data\r\n            data = new sketch1().bitmapData;\r\n            \r\n            // create image\r\n            image = new Image(makeTexture(data));\r\n            image.y = 30;\r\n            image.readjustSize();\r\n            image.addEventListener(TouchEvent.TOUCH, onImageTouch);\r\n            addChild(image);\r\n            \r\n            // add color buttons\r\n            colorButtons();\r\n            \r\n            // add spraycan\r\n            //Mouse.hide();\r\n            //mousecan = new Image(makeTexture(new spraycan().bitmapData));\r\n            //addChild(mousecan);\r\n            \r\n            // debug info\r\n            debug = new TextField(600, 40, \"\", \"Arial\", 12, Color.BLACK);\r\n            debug.hAlign = 'left';\r\n            debug.x = 0;\r\n            debug.y = 560;\r\n            addChild(debug);\r\n            \r\n        }\r\n\r\n        private function setImageTexture(texture):void\r\n        {\r\n        \r\n        }\r\n        \r\n        private function colorButtons():void\r\n        {\r\n            for (var i:int = 0; i < colorArray.length; i++) \r\n            {\r\n    "],[0,"    "]],"start1":573,"start2":573,"length1":51,"length2":1614},{"diffs":[[0,"uad("],[-1,"200, 200, C"],[1,"30, 30, c"],[0,"olor"],[-1,".RED);\r\n"],[1,"Array[i]);\r\n    "],[0,"    "]],"start1":2216,"start2":2216,"length1":31,"length2":37},{"diffs":[[0,"x = "],[-1,"100;\r\n"],[1,"0+i*30;\r\n    "],[0,"    "]],"start1":2266,"start2":2266,"length1":14,"length2":21},{"diffs":[[0,"y = "],[-1,"5"],[0,"0;\r\n"],[1,"    "],[0,"    "]],"start1":2300,"start2":2300,"length1":13,"length2":16},{"diffs":[[0,"uad."],[-1,"rotation = 45;"],[1,"addEventListener(TouchEvent.TOUCH, onColorTouch);\r\n                addChild(quad);\r\n            }\r\n        }\r\n        \r\n        private function makeTexture(data:BitmapData):Texture\r\n        {\r\n            return Texture.fromBitmapData(data);\r\n        }\r\n        \r\n        private function debugInfo(str:String):void\r\n        {\r\n             debug.text = str;    "],[0,"\r\n      "],[1,"  }\r\n"],[0,"      "],[-1,"addChild(quad);"],[1,"  \r\n        private function onImageTouch(event:TouchEvent):void\r\n        {\r\n            // change color when clicked on white pixel\r\n            var touch:Touch = event.getTouch(this, TouchPhase.BEGAN);\r\n            if (touch)\r\n            {\r\n                var localPos:Point = touch.getLocation(this);\r\n                var targetColor:uint = data.getPixel(localPos.x, localPos.y);\r\n                if (targetColor === 0xFFFFFF)\r\n                {\r\n                    data = BMPFunctions.floodFill(data, localPos.x, localPos.y, currentColor, 127, true);\r\n                    image.texture = makeTexture(data);\r\n                    image.readjustSize();\r\n                }\r\n            }    \r\n            \r\n            // move spray can on hover\r\n            var hover:Touch = event.getTouch(this, TouchPhase.HOVER);\r\n            if (hover)\r\n            {\r\n                //var hoverPos:Point = hover.getLocation(this);\r\n                //mousecan.x = hoverPos.x;\r\n                //mousecan.y = hoverPos.y;\r\n            }\r\n        }\r\n        \r\n        private function onColorTouch(event:TouchEvent):void\r\n        {\r\n            var touch:Touch = event.getTouch(this, TouchPhase.BEGAN);\r\n            if (touch)\r\n            {\r\n                var quad:Quad = event.target as Quad;\r\n                var rgb:uint = quad.color;\r\n                var a:int = 0xFF;\r\n                currentColor = (a << 24) + rgb;\r\n            }"],[0,"\r\n  "]],"start1":2325,"start2":2325,"length1":51,"length2":1818}]],"length":4160,"saved":false}
{"ts":1379091364139,"patch":[[{"diffs":[[0,"t = 0xFF"],[-1,"FF0000"],[1,"04000E"],[0,";\r\n\t\tpri"]],"start1":879,"start2":879,"length1":22,"length2":22},{"diffs":[[0,"ray("],[-1,"0xFFFF0000,0xFF00FF00,0xFF0000FF,0xFFFFFF00,0xFF00FFFF,0xFFFF00FF"],[1,"\r\n\t\t    // Los Angeles\r\n\t\t    0xFF04000E,\r\n\t\t    0xFFAB1119,\r\n\t\t    0xFFDA505F,\r\n\t\t    0xFFE5E37C,\r\n\t\t    0xFF4EA24A\r\n\t\t"],[0,");\r\n"]],"start1":935,"start2":935,"length1":73,"length2":128}]],"length":4215,"saved":false}
{"ts":1379091704505,"patch":[[{"diffs":[[0,"FF4EA24A"],[1,",\r\n\t\t    // California\r\n\t\t    0xFF003931,\r\n\t\t    0xFF127561,\r\n\t\t    0xFF94D9E0,\r\n\t\t    0xFFF3C354,\r\n\t\t    0xFFE5B0AA"],[0,"\r\n\t\t);\r\n"]],"start1":1047,"start2":1047,"length1":16,"length2":132}]],"length":4331,"saved":false}
{"ts":1379091899699,"patch":[[{"diffs":[[0,"        "],[-1,"//"],[0,"Mouse.hi"]],"start1":1718,"start2":1718,"length1":18,"length2":16},{"diffs":[[0,");\r\n            "],[-1,"//"],[0,"mousecan = new I"]],"start1":1737,"start2":1737,"length1":34,"length2":32},{"diffs":[[0,"        "],[-1,"//"],[0,"addChild"]],"start1":1820,"start2":1820,"length1":18,"length2":16}]],"length":4325,"saved":false}
{"ts":1379091911308,"patch":[[{"diffs":[[0,"        "],[-1,"//"],[0,"var hove"]],"start1":3744,"start2":3744,"length1":18,"length2":16},{"diffs":[[0,"                "],[-1,"//"],[0,"mousecan.x = hov"]],"start1":3799,"start2":3799,"length1":34,"length2":32},{"diffs":[[0,"        "],[-1,"//"],[0,"mousecan"]],"start1":3849,"start2":3849,"length1":18,"length2":16}]],"length":4319,"saved":false}
{"ts":1379092327875,"patch":[[{"diffs":[[0,"        "],[1,"//"],[0,"Mouse.hi"]],"start1":1718,"start2":1718,"length1":16,"length2":18},{"diffs":[[0,");\r\n            "],[1,"//"],[0,"mousecan = new I"]],"start1":1739,"start2":1739,"length1":32,"length2":34},{"diffs":[[0,");\r\n            "],[1,"//"],[0,"addChild(mouseca"]],"start1":1816,"start2":1816,"length1":32,"length2":34},{"diffs":[[0,"                "],[1,"//"],[0,"var hoverPos:Poi"]],"start1":3742,"start2":3742,"length1":32,"length2":34},{"diffs":[[0,"                "],[1,"//"],[0,"mousecan.x = hov"]],"start1":3807,"start2":3807,"length1":32,"length2":34},{"diffs":[[0,"        "],[1,"//"],[0,"mousecan"]],"start1":3859,"start2":3859,"length1":16,"length2":18}]],"length":4331,"saved":false}
{"ts":1379092951998,"patch":[[{"diffs":[[0,"        "],[-1,"data"],[1,"var map:Array"],[0," = BMPFu"]],"start1":3346,"start2":3346,"length1":20,"length2":29},{"diffs":[[0," 127"],[-1,", true)"],[1,");\r\n                    data = map[0]"],[0,";\r\n "]],"start1":3436,"start2":3436,"length1":15,"length2":45}]],"length":4370,"saved":false}
